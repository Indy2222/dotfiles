set config_charset="utf-8"
set charset="utf-8"

# Load encrypted configuration (i.e. passwords and similar).
source "gpg -d ~/.muttsecrets.gpg |"

set alias_file=~/.mutt/aliases
source $alias_file

set realname="Martin Indra"
set from="indra@spaceknow.com"

# Set-up SpaceKnow GMail.
set folder="imaps://imap.gmail.com/"
set spoolfile="+INBOX"
set record="+[Gmail]/Sent Mail"
set postponed="+[Gmail]/Drafts"
set imap_user="indra@spaceknow.com"
set smtp_url="smtps://indra@spaceknow.com@smtp.gmail.com"
set imap_keepalive=60
set imap_passive=no
set imap_check_subscribed=yes
set imap_idle=yes
set mail_check=60

# SSL hardening
set ssl_force_tls=yes
set ssl_starttls=yes
#set ssl_use_sslv2=no
set ssl_use_sslv3=no
set ssl_use_tlsv1=no
set ssl_use_tlsv1_1=no
set ssl_use_tlsv1_2=yes
set ssl_verify_dates=yes
set ssl_verify_host=yes

set header_cache="~/.mutt/headercache"
set reverse_name=yes
set sort=threads
set date_format="%d %b %H:%M"
set index_format="%Z %D %-15.15L (%?l?%4l&%4c?) %s"
set meta_key=yes
set pager_context=3
set pager_index_lines=4
set editor="emacsclient -t"

message-hook '!(~g|~G) ~b"^-----BEGIN\ PGP\ (SIGNED\ )?MESSAGE"' "exec check-traditional-pgp"
