[general]
pythonfile = ~/dotfiles/offlineimap.py
socktimeout = 60
accounts = mgn, datamole
# this must be >= number of accounts due to autorefresh, otherwise some
# accounts will never sync
maxsyncaccounts = 4

[Account mgn]
localrepository = mgn-local
remoterepository = mgn-remote
synclabels = no
autorefresh = 10

[Repository mgn-remote]
type = IMAP
remoteuser = martin.indra@mgn.cz
remotehost = 127.0.0.1
remoteport = 1143
sslcacertfile = ~/.config/protonmail/bridge/cert.pem
starttls = yes
ssl = no
tls_level = tls_secure
ssl_version = tls1_2

[Repository mgn-local]
type = Maildir
localfolders = ~/mail/mgn

[Account datamole]
localrepository = datamole-local
remoterepository = datamole-remote
synclabels = yes
autorefresh = 0.5

[Repository datamole-remote]
type = Gmail
remoteuser = martin.indra@datamole.cz
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
tls_level = tls_secure
ssl_version = tls1_2
nametrans = lambda f: GMAIL_NAME_MAPPING.get(f, f)
folderfilter = lambda f: f not in GMAIL_EXCLUDE

[Repository datamole-local]
type = GmailMaildir
localfolders = ~/mail/datamole
nametrans = lambda f: GMAIL_NAME_MAPPING_REVERSE.get(f, f)
